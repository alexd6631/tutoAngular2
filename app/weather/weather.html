<h1>Weather template</h1>

<form class="col s12">
    <div class="row">
        <div class="input-field col s6">
            <input id="city" type="text" class="validate" [(ngModel)]="city">
            <label for="city">City name</label>
            <button class="waves-effect waves-light btn" (click)="fetchWeather(city)"
                    [disabled]="!city || city.length == 0">Ok
            </button>
        </div>

        <div class="col s6">
            <div class="preloader-wrapper small active" *ngIf="loading">
                <div class="spinner-layer spinner-red-only">
                    <div class="circle-clipper left">
                        <div class="circle"></div>
                    </div>
                    <div class="gap-patch">
                        <div class="circle"></div>
                    </div>
                    <div class="circle-clipper right">
                        <div class="circle"></div>
                    </div>
                </div>
            </div>
        </div>

        <div class="col s6" *ngIf="weather">
            <div class="card">
                <div class="card-content">
                    <span class="card-title">{{weather.name}}</span>
                    <p><b>Max: </b>{{weather.main.temp_max}}°</p>
                    <p><b>Min: </b>{{weather.main.temp_min}}°</p>
                </div>
            </div>
        </div>

        <div class="col s12 m6" *ngIf="error">
            <div class="card red">
                <div class="card-content white-text">
                    <span class="card-title">Erreur</span>
                    <p>Impossible de charger la météo {{error}}</p>
                </div>
                <div class="card-action">
                    <a (click)="fetchWeather(city)">Réessayer</a>
                </div>
            </div>
        </div>
    </div>
</form>




